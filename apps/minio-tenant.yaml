apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: minio-tenant
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://operator.min.io/
    chart: tenant
    targetRevision: 5.0.18         # or latest stable
    helm:
      values: |
        secret:
          name: minio-creds
        tenant:
          name: percona-minio
          namespace: my-new-namespace
          requestAutoCert: false
          pools:
            - name: pool-0
              servers: 1
              volumesPerServer: 1
              size: 10Gi
  destination:
    server: https://kubernetes.default.svc
    namespace: my-new-namespace
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
